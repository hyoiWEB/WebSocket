{"version":3,"sources":["js/loaders/VRMLoader.js"],"names":["THREE","VRMLoader","manager","GLTFLoader","undefined","Error","DefaultLoadingManager","gltfLoader","prototype","constructor","crossOrigin","load","url","onLoad","onProgress","onError","scope","gltf","parse","setCrossOrigin","value","glTFLoader","setPath","setDRACOLoader","dracoLoader","gltfParser","parser","gltfExtensions","userData","vrmExtension","VRM"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAIA;AACA;AACA;AACA;AAEAA,KAAK,CAACC,SAAN,GAAoB,YAAY;AAE/B,WAASA,SAAT,CAAoBC,OAApB,EAA8B;AAE7B,QAAKF,KAAK,CAACG,UAAN,KAAqBC,SAA1B,EAAsC;AAErC,YAAM,IAAIC,KAAJ,CAAW,2CAAX,CAAN;AAEA;;AAED,SAAKH,OAAL,GAAiBA,OAAO,KAAKE,SAAd,GAA4BF,OAA5B,GAAsCF,KAAK,CAACM,qBAA3D;AACA,SAAKC,UAAL,GAAkB,IAAIP,KAAK,CAACG,UAAV,CAAsB,KAAKD,OAA3B,CAAlB;AAEA;;AAEDD,EAAAA,SAAS,CAACO,SAAV,GAAsB;AAErBC,IAAAA,WAAW,EAAER,SAFQ;AAIrBS,IAAAA,WAAW,EAAE,WAJQ;AAMrBC,IAAAA,IAAI,EAAE,UAAWC,GAAX,EAAgBC,MAAhB,EAAwBC,UAAxB,EAAoCC,OAApC,EAA8C;AAEnD,UAAIC,KAAK,GAAG,IAAZ;AAEA,WAAKT,UAAL,CAAgBI,IAAhB,CAAsBC,GAAtB,EAA2B,UAAWK,IAAX,EAAkB;AAE5CD,QAAAA,KAAK,CAACE,KAAN,CAAaD,IAAb,EAAmBJ,MAAnB;AAEA,OAJD,EAIGC,UAJH,EAIeC,OAJf;AAMA,KAhBoB;AAkBrBI,IAAAA,cAAc,EAAE,UAAWC,KAAX,EAAmB;AAElC,WAAKC,UAAL,CAAgBF,cAAhB,CAAgCC,KAAhC;AACA,aAAO,IAAP;AAEA,KAvBoB;AAyBrBE,IAAAA,OAAO,EAAE,UAAWF,KAAX,EAAmB;AAE3B,WAAKC,UAAL,CAAgBC,OAAhB,CAAyBF,KAAzB;AACA,aAAO,IAAP;AAEA,KA9BoB;AAgCrBG,IAAAA,cAAc,EAAE,UAAWC,WAAX,EAAyB;AAExC,WAAKH,UAAL,CAAgBE,cAAhB,CAAgCC,WAAhC;AACA,aAAO,IAAP;AAEA,KArCoB;AAuCrBN,IAAAA,KAAK,EAAE,UAAWD,IAAX,EAAiBJ,MAAjB,EAA0B;AAEhC,UAAIY,UAAU,GAAGR,IAAI,CAACS,MAAtB;AACA,UAAIC,cAAc,GAAGV,IAAI,CAACW,QAAL,CAAcD,cAAd,IAAgC,EAArD;AACA,UAAIE,YAAY,GAAGF,cAAc,CAACG,GAAf,IAAsB,EAAzC,CAJgC,CAMhC;;AAEAjB,MAAAA,MAAM,CAAEI,IAAF,CAAN;AAEA;AAjDoB,GAAtB;AAqDA,SAAOhB,SAAP;AAEA,CAtEiB,EAAlB","file":"VRMLoader.94482bd7.js","sourceRoot":"..","sourcesContent":["/**\n * @author Takahiro / https://github.com/takahirox\n */\n\n// VRM Specification: https://dwango.github.io/vrm/vrm_spec/\n//\n// VRM is based on glTF 2.0 and VRM extension is defined\n// in top-level json.extensions.VRM\n\nTHREE.VRMLoader = ( function () {\n\n\tfunction VRMLoader( manager ) {\n\n\t\tif ( THREE.GLTFLoader === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.VRMLoader: Import THREE.GLTFLoader.' );\n\n\t\t}\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\tthis.gltfLoader = new THREE.GLTFLoader( this.manager );\n\n\t}\n\n\tVRMLoader.prototype = {\n\n\t\tconstructor: VRMLoader,\n\n\t\tcrossOrigin: 'anonymous',\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tthis.gltfLoader.load( url, function ( gltf ) {\n\n\t\t\t\tscope.parse( gltf, onLoad );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetCrossOrigin: function ( value ) {\n\n\t\t\tthis.glTFLoader.setCrossOrigin( value );\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.glTFLoader.setPath( value );\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.glTFLoader.setDRACOLoader( dracoLoader );\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( gltf, onLoad ) {\n\n\t\t\tvar gltfParser = gltf.parser;\n\t\t\tvar gltfExtensions = gltf.userData.gltfExtensions || {};\n\t\t\tvar vrmExtension = gltfExtensions.VRM || {};\n\n\t\t\t// handle VRM Extension here\n\n\t\t\tonLoad( gltf );\n\n\t\t}\n\n\t};\n\n\treturn VRMLoader;\n\n} )();\n"]}